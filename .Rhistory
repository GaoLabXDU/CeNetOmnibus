#' @examples
#'    CeNetOmnibus()
CeNetOmnibus <- function(maxRequestSize=1000,workpath=tempdir(),projectName=NULL,typeLimit=10,useEnsembl=T,...) {
library(parallel)
library(biomaRt)
library(shiny)
library(plyr)
library(ggplot2)
library(jsonlite)
library(shinydashboard)
library(shinyWidgets)
library(DT)
library(ggthemr)
library(tibble)
library(igraph)
library(scales)
library(rhandsontable)
library(PerformanceAnalytics)
library(linkcomm)
library(MCL)
library(visNetwork)
library(colourpicker)
library(ggplotify)
library(survival)
library(survminer)
library(ComplexHeatmap)
library(circlize)
library(formattable)
library(infotheo)
library(ProNet)
library(gprofiler2)
library(svglite)
library(R.oo)
library(patchwork)
maxRequestSize=maxRequestSize*1024^2
tmpdir<<-normalizePath(workpath)
projName<<-projectName
if(!is.null(projectName))
{
projName <<- gsub(pattern = " ",replacement = '_',x = projectName)
}
typeLimit <<- typeLimit
ggthemr('flat')
usedcolors=swatch()
options(shiny.maxRequestSize = maxRequestSize)
useE<<-useEnsembl
#suppressMessages(shiny::runApp(system.file("app", package = "CeNetOmnibus"),launch.browser=TRUE,...))
shiny::runApp("inst/app",launch.browser=TRUE,...)
}
setwd("C:/Users/william/Desktop/CeNetOmnibus")
CeNetOmnibus(useEnsembl = F)
i
j
community=mcl(as.matrix(as_adjacency_matrix(net_igraph,type='both')),addLoops = T,expansion = 1,inflation = 2,allow1 = T,max.iter = 100)
community
community=mcl(as.matrix(as_adjacency_matrix(net_igraph,type='both')),addLoops = T,expansion = 1,inflation = 2,allow1 = T,max.iter = 50)
communitu
community
community=mcl(as.matrix(as_adjacency_matrix(net_igraph,type='both')),addLoops = T,expansion = 2,inflation = 1,allow1 = T,max.iter = 50)
community
mcl()
mcl
debug(mcl)
community=mcl(as.matrix(as_adjacency_matrix(net_igraph,type='both')),addLoops = T,expansion = 2,inflation = 1,allow1 = T,max.iter = 50)
a
a
community
community=mcl(as.matrix(as_adjacency_matrix(net_igraph,type='both')),addLoops = T,expansion = 2,inflation = 1,allow1 = T,max.iter = 50)
a
a
a
a
a
a
a
a
a
infl.norm
ident
!is.na(infl.norm[1, 1])
adj.norm
identical(infl.norm, adj.norm)
#' Run CeNetOmnibus App
#'
#' @param maxRequestSize Integer.The admitted file size for uploaded files. Unit MB. Default 1000MB.
#' @param workpath Character. The dictionary for temp files. Default is return value of tempdir()
#' @param projectName Character. The name of this analysis. Default is session token.
#' @param typeLimit Integer. The number of valid items. Default is 10.
#' @param useEnsembl Boolean. Determine if use Ensembl databasae. Default is T for connecting.
#' @param ... Other parameters passed to runApp()
#'
#' @return
#' @export
#'
#' @examples
#'    CeNetOmnibus()
CeNetOmnibus <- function(maxRequestSize=1000,workpath=tempdir(),projectName=NULL,typeLimit=10,useEnsembl=T,...) {
library(parallel)
library(biomaRt)
library(shiny)
library(plyr)
library(ggplot2)
library(jsonlite)
library(shinydashboard)
library(shinyWidgets)
library(DT)
library(ggthemr)
library(tibble)
library(igraph)
library(scales)
library(rhandsontable)
library(PerformanceAnalytics)
library(linkcomm)
library(MCL)
library(visNetwork)
library(colourpicker)
library(ggplotify)
library(survival)
library(survminer)
library(ComplexHeatmap)
library(circlize)
library(formattable)
library(infotheo)
library(ProNet)
library(gprofiler2)
library(svglite)
library(R.oo)
library(patchwork)
maxRequestSize=maxRequestSize*1024^2
tmpdir<<-normalizePath(workpath)
projName<<-projectName
if(!is.null(projectName))
{
projName <<- gsub(pattern = " ",replacement = '_',x = projectName)
}
typeLimit <<- typeLimit
ggthemr('flat')
usedcolors=swatch()
options(shiny.maxRequestSize = maxRequestSize)
useE<<-useEnsembl
#suppressMessages(shiny::runApp(system.file("app", package = "CeNetOmnibus"),launch.browser=TRUE,...))
shiny::runApp("inst/app",launch.browser=TRUE,...)
}
setwd("C:/Users/william/Desktop/CeNetOmnibus")
CeNetOmnibus(useEnsembl = F)
community=mcl(as.matrix(as_adjacency_matrix(net_igraph,type='both')),addLoops = T,expansion = 1,inflation = 2,allow1 = T,max.iter = 1000)
community
community=mcl(as.matrix(as_adjacency_matrix(net_igraph,type='both')),addLoops = T,expansion = 1,inflation = 2,allow1 = T,max.iter = 10000)
community
#' Run CeNetOmnibus App
#'
#' @param maxRequestSize Integer.The admitted file size for uploaded files. Unit MB. Default 1000MB.
#' @param workpath Character. The dictionary for temp files. Default is return value of tempdir()
#' @param projectName Character. The name of this analysis. Default is session token.
#' @param typeLimit Integer. The number of valid items. Default is 10.
#' @param useEnsembl Boolean. Determine if use Ensembl databasae. Default is T for connecting.
#' @param ... Other parameters passed to runApp()
#'
#' @return
#' @export
#'
#' @examples
#'    CeNetOmnibus()
CeNetOmnibus <- function(maxRequestSize=1000,workpath=tempdir(),projectName=NULL,typeLimit=10,useEnsembl=T,...) {
library(parallel)
library(biomaRt)
library(shiny)
library(plyr)
library(ggplot2)
library(jsonlite)
library(shinydashboard)
library(shinyWidgets)
library(DT)
library(ggthemr)
library(tibble)
library(igraph)
library(scales)
library(rhandsontable)
library(PerformanceAnalytics)
library(linkcomm)
library(MCL)
library(visNetwork)
library(colourpicker)
library(ggplotify)
library(survival)
library(survminer)
library(ComplexHeatmap)
library(circlize)
library(formattable)
library(infotheo)
library(ProNet)
library(gprofiler2)
library(svglite)
library(R.oo)
library(patchwork)
maxRequestSize=maxRequestSize*1024^2
tmpdir<<-normalizePath(workpath)
projName<<-projectName
if(!is.null(projectName))
{
projName <<- gsub(pattern = " ",replacement = '_',x = projectName)
}
typeLimit <<- typeLimit
ggthemr('flat')
usedcolors=swatch()
options(shiny.maxRequestSize = maxRequestSize)
useE<<-useEnsembl
#suppressMessages(shiny::runApp(system.file("app", package = "CeNetOmnibus"),launch.browser=TRUE,...))
shiny::runApp("inst/app",launch.browser=TRUE,...)
}
setwd("C:/Users/william/Desktop/CeNetOmnibus")
CeNetOmnibus(useEnsembl = F)
undebug(mcl)
#' Run CeNetOmnibus App
#'
#' @param maxRequestSize Integer.The admitted file size for uploaded files. Unit MB. Default 1000MB.
#' @param workpath Character. The dictionary for temp files. Default is return value of tempdir()
#' @param projectName Character. The name of this analysis. Default is session token.
#' @param typeLimit Integer. The number of valid items. Default is 10.
#' @param useEnsembl Boolean. Determine if use Ensembl databasae. Default is T for connecting.
#' @param ... Other parameters passed to runApp()
#'
#' @return
#' @export
#'
#' @examples
#'    CeNetOmnibus()
CeNetOmnibus <- function(maxRequestSize=1000,workpath=tempdir(),projectName=NULL,typeLimit=10,useEnsembl=T,...) {
library(parallel)
library(biomaRt)
library(shiny)
library(plyr)
library(ggplot2)
library(jsonlite)
library(shinydashboard)
library(shinyWidgets)
library(DT)
library(ggthemr)
library(tibble)
library(igraph)
library(scales)
library(rhandsontable)
library(PerformanceAnalytics)
library(linkcomm)
library(MCL)
library(visNetwork)
library(colourpicker)
library(ggplotify)
library(survival)
library(survminer)
library(ComplexHeatmap)
library(circlize)
library(formattable)
library(infotheo)
library(ProNet)
library(gprofiler2)
library(svglite)
library(R.oo)
library(patchwork)
maxRequestSize=maxRequestSize*1024^2
tmpdir<<-normalizePath(workpath)
projName<<-projectName
if(!is.null(projectName))
{
projName <<- gsub(pattern = " ",replacement = '_',x = projectName)
}
typeLimit <<- typeLimit
ggthemr('flat')
usedcolors=swatch()
options(shiny.maxRequestSize = maxRequestSize)
useE<<-useEnsembl
#suppressMessages(shiny::runApp(system.file("app", package = "CeNetOmnibus"),launch.browser=TRUE,...))
shiny::runApp("inst/app",launch.browser=TRUE,...)
}
setwd("C:/Users/william/Desktop/CeNetOmnibus")
CeNetOmnibus(useEnsembl = F)
community
undebug(mcl)
#' Run CeNetOmnibus App
#'
#' @param maxRequestSize Integer.The admitted file size for uploaded files. Unit MB. Default 1000MB.
#' @param workpath Character. The dictionary for temp files. Default is return value of tempdir()
#' @param projectName Character. The name of this analysis. Default is session token.
#' @param typeLimit Integer. The number of valid items. Default is 10.
#' @param useEnsembl Boolean. Determine if use Ensembl databasae. Default is T for connecting.
#' @param ... Other parameters passed to runApp()
#'
#' @return
#' @export
#'
#' @examples
#'    CeNetOmnibus()
CeNetOmnibus <- function(maxRequestSize=1000,workpath=tempdir(),projectName=NULL,typeLimit=10,useEnsembl=T,...) {
library(parallel)
library(biomaRt)
library(shiny)
library(plyr)
library(ggplot2)
library(jsonlite)
library(shinydashboard)
library(shinyWidgets)
library(DT)
library(ggthemr)
library(tibble)
library(igraph)
library(scales)
library(rhandsontable)
library(PerformanceAnalytics)
library(linkcomm)
library(MCL)
library(visNetwork)
library(colourpicker)
library(ggplotify)
library(survival)
library(survminer)
library(ComplexHeatmap)
library(circlize)
library(formattable)
library(infotheo)
library(ProNet)
library(gprofiler2)
library(svglite)
library(R.oo)
library(patchwork)
maxRequestSize=maxRequestSize*1024^2
tmpdir<<-normalizePath(workpath)
projName<<-projectName
if(!is.null(projectName))
{
projName <<- gsub(pattern = " ",replacement = '_',x = projectName)
}
typeLimit <<- typeLimit
ggthemr('flat')
usedcolors=swatch()
options(shiny.maxRequestSize = maxRequestSize)
useE<<-useEnsembl
#suppressMessages(shiny::runApp(system.file("app", package = "CeNetOmnibus"),launch.browser=TRUE,...))
shiny::runApp("inst/app",launch.browser=TRUE,...)
}
setwd("C:/Users/william/Desktop/CeNetOmnibus")
CeNetOmnibus(useEnsembl = F)
summary
summary$expansion=as.factor(summary$expansion)
summary$inflation=as.factor(summary$inflation)
detail$expansion=as.factor(detail$expansion)
detail$expansion=as.factor(detail$inflation)
p1=ggplot(data = summary)+
geom_bar(mapping = aes(x = expansion,y = modularity,fill=para),stat='identity')+
facet_wrap(~inflation,scales = 'free_y')+
scale_fill_manual(values = colorRampPalette(usedcolors)(length(allprogress)))+
basic_theme+labs(title="Modularity",x="Expansion")+
theme(legend.position ='none')
p
basic_theme=theme(legend.position = 'bottom',
axis.line = element_line(linetype = "solid"),
panel.grid.minor = element_line(linetype = "blank"),
axis.title = element_text(family = "serif",size=14,color='black'),
axis.text = element_text(family = "serif",size=14,color='black'),
axis.text.x = element_text(family = "serif"),
axis.text.y = element_text(family = "serif"),
plot.title = element_text(family = "serif", hjust = 0.5,size=18,color='black'),
legend.text = element_text(family = "serif",size=14,colour = 'black'),
legend.title = element_text(family = "serif",size=14,color='black'),
panel.background = element_rect(fill = NA),
plot.background = element_rect(colour = NA),
legend.key = element_rect(fill = NA),
legend.background = element_rect(fill = NA),
legend.direction = "horizontal")
summary$expansion=as.factor(summary$expansion)
summary$inflation=as.factor(summary$inflation)
detail$expansion=as.factor(detail$expansion)
detail$expansion=as.factor(detail$inflation)
p1=ggplot(data = summary)+
geom_bar(mapping = aes(x = expansion,y = modularity,fill=para),stat='identity')+
facet_wrap(~inflation,scales = 'free_y')+
scale_fill_manual(values = colorRampPalette(usedcolors)(length(allprogress)))+
basic_theme+labs(title="Modularity",x="Expansion")+
theme(legend.position ='none')
p1
p1=ggplot(data = summary)+
geom_bar(mapping = aes(x = expansion,y = modularity,fill=expansion),stat='identity')+
facet_wrap(~inflation,scales = 'free_y')+
scale_fill_manual(values = colorRampPalette(usedcolors)(allprogress))+
basic_theme+labs(title="Modularity",x="Expansion")+
theme(legend.position ='none')
p1
#' Run CeNetOmnibus App
#'
#' @param maxRequestSize Integer.The admitted file size for uploaded files. Unit MB. Default 1000MB.
#' @param workpath Character. The dictionary for temp files. Default is return value of tempdir()
#' @param projectName Character. The name of this analysis. Default is session token.
#' @param typeLimit Integer. The number of valid items. Default is 10.
#' @param useEnsembl Boolean. Determine if use Ensembl databasae. Default is T for connecting.
#' @param ... Other parameters passed to runApp()
#'
#' @return
#' @export
#'
#' @examples
#'    CeNetOmnibus()
CeNetOmnibus <- function(maxRequestSize=1000,workpath=tempdir(),projectName=NULL,typeLimit=10,useEnsembl=T,...) {
library(parallel)
library(biomaRt)
library(shiny)
library(plyr)
library(ggplot2)
library(jsonlite)
library(shinydashboard)
library(shinyWidgets)
library(DT)
library(ggthemr)
library(tibble)
library(igraph)
library(scales)
library(rhandsontable)
library(PerformanceAnalytics)
library(linkcomm)
library(MCL)
library(visNetwork)
library(colourpicker)
library(ggplotify)
library(survival)
library(survminer)
library(ComplexHeatmap)
library(circlize)
library(formattable)
library(infotheo)
library(ProNet)
library(gprofiler2)
library(svglite)
library(R.oo)
library(patchwork)
maxRequestSize=maxRequestSize*1024^2
tmpdir<<-normalizePath(workpath)
projName<<-projectName
if(!is.null(projectName))
{
projName <<- gsub(pattern = " ",replacement = '_',x = projectName)
}
typeLimit <<- typeLimit
ggthemr('flat')
usedcolors=swatch()
options(shiny.maxRequestSize = maxRequestSize)
useE<<-useEnsembl
#suppressMessages(shiny::runApp(system.file("app", package = "CeNetOmnibus"),launch.browser=TRUE,...))
shiny::runApp("inst/app",launch.browser=TRUE,...)
}
setwd("C:/Users/william/Desktop/CeNetOmnibus")
CeNetOmnibus(useEnsembl = F)
#' Run CeNetOmnibus App
#'
#' @param maxRequestSize Integer.The admitted file size for uploaded files. Unit MB. Default 1000MB.
#' @param workpath Character. The dictionary for temp files. Default is return value of tempdir()
#' @param projectName Character. The name of this analysis. Default is session token.
#' @param typeLimit Integer. The number of valid items. Default is 10.
#' @param useEnsembl Boolean. Determine if use Ensembl databasae. Default is T for connecting.
#' @param ... Other parameters passed to runApp()
#'
#' @return
#' @export
#'
#' @examples
#'    CeNetOmnibus()
CeNetOmnibus <- function(maxRequestSize=1000,workpath=tempdir(),projectName=NULL,typeLimit=10,useEnsembl=T,...) {
library(parallel)
library(biomaRt)
library(shiny)
library(plyr)
library(ggplot2)
library(jsonlite)
library(shinydashboard)
library(shinyWidgets)
library(DT)
library(ggthemr)
library(tibble)
library(igraph)
library(scales)
library(rhandsontable)
library(PerformanceAnalytics)
library(linkcomm)
library(MCL)
library(visNetwork)
library(colourpicker)
library(ggplotify)
library(survival)
library(survminer)
library(ComplexHeatmap)
library(circlize)
library(formattable)
library(infotheo)
library(ProNet)
library(gprofiler2)
library(svglite)
library(R.oo)
library(patchwork)
maxRequestSize=maxRequestSize*1024^2
tmpdir<<-normalizePath(workpath)
projName<<-projectName
if(!is.null(projectName))
{
projName <<- gsub(pattern = " ",replacement = '_',x = projectName)
}
typeLimit <<- typeLimit
ggthemr('flat')
usedcolors=swatch()
options(shiny.maxRequestSize = maxRequestSize)
useE<<-useEnsembl
#suppressMessages(shiny::runApp(system.file("app", package = "CeNetOmnibus"),launch.browser=TRUE,...))
shiny::runApp("inst/app",launch.browser=TRUE,...)
}
setwd("C:/Users/william/Desktop/CeNetOmnibus")
CeNetOmnibus(useEnsembl = F)
